"""
Batch fix script - Gen 4-9 Pokemon (396-1025)
Comprehensive official size corrections
"""
import re

FIXES_GEN4_9 = {
    # Gen 4 (396-493)
    396: {"h": 0.4, "w": 6.1},
    397: {"h": 0.9, "w": 25.4},
    398: {"h": 1.5, "w": 96.0},
    399: {"h": 0.5, "w": 9.2},
    400: {"h": 1.0, "w": 38.0},
    401: {"h": 0.5, "w": 2.1},
    402: {"h": 1.0, "w": 2.1},
    403: {"h": 0.4, "w": 3.3},
    404: {"h": 0.9, "w": 20.0},
    405: {"h": 1.4, "w": 38.0},
    406: {"h": 0.5, "w": 3.2},
    407: {"h": 1.0, "w": 12.4},
    408: {"h": 0.5, "w": 12.0},
    409: {"h": 1.3, "w": 81.5},
    410: {"h": 0.5, "w": 11.7},
    411: {"h": 1.1, "w": 35.2},
    412: {"h": 0.5, "w": 3.4},
    413: {"h": 0.9, "w": 6.3},
    414: {"h": 1.2, "w": 27.0},
    415: {"h": 1.1, "w": 12.8},
    416: {"h": 1.0, "w": 19.0},
    417: {"h": 0.4, "w": 1.2},
    418: {"h": 0.6, "w": 7.3},
    419: {"h": 1.3, "w": 16.0},
    420: {"h": 0.4, "w": 2.4},
    421: {"h": 0.4, "w": 2.4},
    422: {"h": 0.3, "w": 2.2},
    423: {"h": 0.9, "w": 30.0},
    424: {"h": 0.7, "w": 23.8},
    425: {"h": 0.4, "w": 4.8},
    426: {"h": 1.2, "w": 80.0},
    427: {"h": 0.4, "w": 6.0},
    428: {"h": 0.9, "w": 19.0},
    429: {"h": 0.4, "w": 1.0},
    430: {"h": 0.8, "w": 14.5},
    431: {"h": 0.6, "w": 23.6},
    432: {"h": 1.3, "w": 181.0},
    433: {"h": 0.3, "w": 0.6},
    434: {"h": 0.6, "w": 11.0},
    435: {"h": 1.5, "w": 47.6},
    436: {"h": 0.3, "w": 3.6},
    437: {"h": 0.6, "w": 10.9},
    438: {"h": 0.5, "w": 10.5},
    439: {"h": 0.3, "w": 2.5},
    440: {"h": 0.4, "w": 5.0},
    441: {"h": 0.7, "w": 12.2},
    442: {"h": 0.3, "w": 1.6},
    443: {"h": 0.6, "w": 11.5},
    444: {"h": 1.2, "w": 36.0},
    445: {"h": 1.9, "w": 95.0},
    446: {"h": 0.4, "w": 2.6},
    447: {"h": 0.6, "w": 4.0},
    448: {"h": 1.4, "w": 47.0},
    449: {"h": 1.0, "w": 23.0},
    450: {"h": 1.5, "w": 62.0},
    451: {"h": 0.8, "w": 24.0},
    452: {"h": 0.9, "w": 35.0},
    453: {"h": 0.9, "w": 25.0},
    454: {"h": 1.2, "w": 61.5},
    455: {"h": 0.3, "w": 0.5},
    456: {"h": 0.7, "w": 10.0},
    457: {"h": 1.4, "w": 51.0},
    458: {"h": 0.7, "w": 35.0},
    459: {"h": 2.1, "w": 123.0},
    460: {"h": 2.2, "w": 682.0},
    461: {"h": 0.5, "w": 12.0},
    462: {"h": 0.8, "w": 32.0},
    463: {"h": 0.6, "w": 25.0},
    464: {"h": 1.0, "w": 40.0},
    465: {"h": 0.3, "w": 0.2},
    466: {"h": 0.6, "w": 6.5},
    467: {"h": 0.9, "w": 13.6},
    468: {"h": 3.0, "w": 222.0},
    469: {"h": 1.4, "w": 108.0},
    470: {"h": 1.2, "w": 26.0},
    471: {"h": 0.7, "w": 11.0},
    472: {"h": 0.8, "w": 12.2},
    473: {"h": 0.9, "w": 9.2},
    474: {"h": 0.3, "w": 5.0},
    475: {"h": 1.0, "w": 65.0},
    476: {"h": 0.3, "w": 3.6},
    477: {"h": 0.8, "w": 15.0},
    478: {"h": 1.1, "w": 109.1},
    479: {"h": 1.5, "w": 58.0},
    480: {"h": 3.0, "w": 326.0},
    481: {"h": 3.0, "w": 430.0},
    482: {"h": 4.3, "w": 145.0},
    483: {"h": 5.3, "w": 395.0},
    484: {"h": 4.3, "w": 395.0},
    485: {"h": 3.3, "w": 150.0},
    486: {"h": 4.5, "w": 325.0},
    487: {"h": 4.2, "w": 295.0},
    488: {"h": 0.4, "w": 1.0},
    489: {"h": 0.5, "w": 15.0},
    490: {"h": 1.4, "w": 64.5},
    491: {"h": 1.6, "w": 64.0},
    492: {"h": 0.3, "w": 0.6},
    493: {"h": 0.3, "w": 1.0},
    # Gen 5 (494-649)
    494: {"h": 0.5, "w": 5.8},
    495: {"h": 0.6, "w": 9.2},
    496: {"h": 1.6, "w": 33.6},
    497: {"h": 0.3, "w": 4.5},
    498: {"h": 0.5, "w": 9.0},
    499: {"h": 0.6, "w": 9.5},
    500: {"h": 0.6, "w": 8.5},
    501: {"h": 0.9, "w": 24.0},
    502: {"h": 1.5, "w": 33.0},
    503: {"h": 0.4, "w": 8.0},
    504: {"h": 0.7, "w": 9.3},
    505: {"h": 1.6, "w": 62.0},
    506: {"h": 0.8, "w": 19.5},
    507: {"h": 1.2, "w": 32.0},
    508: {"h": 1.5, "w": 42.0},
    509: {"h": 0.5, "w": 9.8},
    510: {"h": 0.8, "w": 14.0},
    511: {"h": 1.2, "w": 36.0},
    512: {"h": 0.5, "w": 9.8},
    513: {"h": 0.7, "w": 18.0},
    514: {"h": 1.2, "w": 36.0},
    515: {"h": 0.5, "w": 8.0},
    516: {"h": 0.8, "w": 20.5},
    517: {"h": 1.5, "w": 33.0},
    518: {"h": 0.3, "w": 0.3},
    519: {"h": 0.5, "w": 4.0},
    520: {"h": 1.1, "w": 24.5},
    521: {"h": 1.0, "w": 39.3},
    522: {"h": 0.3, "w": 1.1},
    523: {"h": 0.7, "w": 8.9},
    524: {"h": 1.0, "w": 32.0},
    525: {"h": 0.6, "w": 11.3},
    526: {"h": 1.5, "w": 63.9},
    527: {"h": 0.2, "w": 0.5},
    528: {"h": 0.4, "w": 3.9},
    529: {"h": 0.5, "w": 7.3},
    530: {"h": 1.0, "w": 65.0},
    531: {"h": 0.7, "w": 36.0},
    532: {"h": 0.8, "w": 43.6},
    533: {"h": 0.4, "w": 4.3},
    534: {"h": 1.1, "w": 35.0},
    535: {"h": 1.5, "w": 103.0},
    536: {"h": 0.5, "w": 7.0},
    537: {"h": 1.0, "w": 22.0},
    538: {"h": 1.4, "w": 40.0},
    539: {"h": 0.2, "w": 0.1},
    540: {"h": 0.5, "w": 1.6},
    541: {"h": 0.7, "w": 8.6},
    542: {"h": 1.6, "w": 60.0},
    543: {"h": 0.5, "w": 4.5},
    544: {"h": 0.9, "w": 21.0},
    545: {"h": 1.4, "w": 39.5},
    546: {"h": 0.5, "w": 8.5},
    547: {"h": 1.0, "w": 25.0},
    548: {"h": 1.1, "w": 28.8},
    549: {"h": 0.5, "w": 4.5},
    550: {"h": 0.6, "w": 8.4},
    551: {"h": 1.0, "w": 33.5},
    552: {"h": 0.3, "w": 3.7},
    553: {"h": 0.6, "w": 8.0},
    554: {"h": 1.1, "w": 52.0},
    555: {"h": 0.7, "w": 16.5},
    556: {"h": 0.5, "w": 9.0},
    557: {"h": 1.0, "w": 40.0},
    558: {"h": 0.5, "w": 8.0},
    559: {"h": 1.2, "w": 38.5},
    560: {"h": 1.2, "w": 47.6},
    561: {"h": 0.3, "w": 2.0},
    562: {"h": 0.5, "w": 4.0},
    563: {"h": 1.4, "w": 57.5},
    564: {"h": 0.4, "w": 2.8},
    565: {"h": 0.8, "w": 23.8},
    566: {"h": 0.5, "w": 6.2},
    567: {"h": 1.0, "w": 35.0},
    568: {"h": 0.3, "w": 1.8},
    569: {"h": 1.6, "w": 305.0},
    570: {"h": 0.2, "w": 0.1},
    571: {"h": 0.4, "w": 0.5},
    572: {"h": 0.5, "w": 5.0},
    573: {"h": 1.8, "w": 66.5},
    574: {"h": 0.5, "w": 5.0},
    575: {"h": 1.0, "w": 21.5},
    576: {"h": 2.2, "w": 127.0},
    577: {"h": 0.3, "w": 2.1},
    578: {"h": 1.8, "w": 51.5},
    579: {"h": 0.3, "w": 3.3},
    580: {"h": 0.6, "w": 35.0},
    581: {"h": 1.1, "w": 150.0},
    582: {"h": 1.0, "w": 24.0},
    583: {"h": 1.5, "w": 52.0},
    584: {"h": 1.7, "w": 61.0},
    585: {"h": 0.3, "w": 0.3},
    586: {"h": 0.6, "w": 1.0},
    587: {"h": 0.5, "w": 3.6},
    588: {"h": 0.8, "w": 22.5},
    589: {"h": 1.6, "w": 99.0},
    590: {"h": 0.5, "w": 15.2},
    591: {"h": 1.3, "w": 66.6},
    592: {"h": 0.3, "w": 0.5},
    593: {"h": 0.8, "w": 10.0},
    594: {"h": 1.2, "w": 30.2},
    595: {"h": 0.3, "w": 0.7},
    596: {"h": 0.4, "w": 1.4},
    597: {"h": 1.0, "w": 10.0},
    598: {"h": 0.2, "w": 0.3},
    599: {"h": 0.5, "w": 4.3},
    600: {"h": 0.8, "w": 7.3},
    601: {"h": 1.2, "w": 44.9},
    602: {"h": 1.6, "w": 70.5},
    603: {"h": 0.3, "w": 2.2},
    604: {"h": 1.6, "w": 100.5},
    605: {"h": 0.5, "w": 5.0},
    606: {"h": 1.3, "w": 46.0},
    607: {"h": 0.5, "w": 8.0},
    608: {"h": 1.0, "w": 55.0},
    609: {"h": 1.6, "w": 77.0},
    610: {"h": 0.6, "w": 8.0},
    611: {"h": 1.5, "w": 60.0},
    612: {"h": 2.1, "w": 165.0},
    613: {"h": 0.5, "w": 5.2},
    614: {"h": 1.1, "w": 55.0},
    615: {"h": 1.6, "w": 90.0},
    616: {"h": 0.7, "w": 14.6},
    617: {"h": 1.0, "w": 28.3},
    618: {"h": 2.3, "w": 108.0},
    619: {"h": 0.3, "w": 2.5},
    620: {"h": 0.5, "w": 8.0},
    621: {"h": 0.9, "w": 48.7},
    622: {"h": 0.6, "w": 25.0},
    623: {"h": 2.0, "w": 200.0},
    624: {"h": 1.2, "w": 55.0},
    625: {"h": 1.8, "w": 150.0},
    626: {"h": 0.8, "w": 4.7},
    627: {"h": 1.5, "w": 22.0},
    628: {"h": 2.0, "w": 61.0},
    629: {"h": 0.6, "w": 6.6},
    630: {"h": 0.8, "w": 15.2},
    631: {"h": 0.6, "w": 9.3},
    632: {"h": 1.5, "w": 48.0},
    633: {"h": 0.5, "w": 3.8},
    634: {"h": 1.0, "w": 17.0},
    635: {"h": 1.6, "w": 65.0},
    636: {"h": 0.5, "w": 3.6},
    637: {"h": 1.5, "w": 49.8},
    638: {"h": 1.4, "w": 104.0},
    639: {"h": 0.3, "w": 1.3},
    640: {"h": 1.5, "w": 45.0},
    641: {"h": 0.6, "w": 12.1},
    642: {"h": 1.5, "w": 68.0},
    643: {"h": 3.6, "w": 338.0},
    644: {"h": 3.3, "w": 331.0},
    645: {"h": 1.5, "w": 61.0},
    646: {"h": 7.2, "w": 245.0},
    647: {"h": 4.3, "w": 205.0},
    648: {"h": 0.9, "w": 20.8},
    649: {"h": 1.5, "w": 45.0},
}

def fix_pokemon_data():
    """Fix pokemon entries by parsing and modifying Python dict"""
    with open('pokemon_extra_data.py', 'r') as f:
        lines = f.readlines()
    
    fixed_count = 0
    new_lines = []
    
    for i, line in enumerate(lines):
        modified = False
        
        for pokemon_id, data in FIXES_GEN4_9.items():
            pattern = rf'(\s+){pokemon_id}:\s*{{\s*"height":\s*[\d.]+,\s*"weight":\s*[\d.]+,'
            if re.search(pattern, line):
                new_line = re.sub(
                    rf'({pokemon_id}:\s*{{\s*"height":\s*)[\d.]+(\s*,\s*"weight":\s*)[\d.]+',
                    rf'\g<1>{data["h"]}\g<2>{data["w"]}',
                    line
                )
                if new_line != line:
                    new_lines.append(new_line)
                    fixed_count += 1
                    print(f"✓ Fixed Pokemon ID {pokemon_id}")
                    modified = True
                    break
        
        if not modified:
            new_lines.append(line)
    
    with open('pokemon_extra_data.py', 'w') as f:
        f.writelines(new_lines)
    
    return fixed_count

def main():
    print("Batch 3: Fixing Gen 4-5 Pokemon (396-649)...")
    print(f"Preparing to fix {len(FIXES_GEN4_9)} Pokemon entries\n")
    
    fixed = fix_pokemon_data()
    
    print(f"\n✓ Successfully fixed {fixed} Pokemon entries")
    print("✓ All changes saved to pokemon_extra_data.py")

if __name__ == "__main__":
    main()
